---
title: 五、中断和异常
tags: ["操作系统"]
categories: OS学习笔记
draft: false
date: 2022-04-10T21:04:11+08:00
---

#### 1.中断机制的诞生

为了解决早期计算机资源利用率低的的问题，人们发明了**操作系统**，引入了**中断机制**，实现多道程序并发执行。

**本质：发生了中断也就意味着需要操作系统介入，展开管理工作。**CPU 收到计时部件发送的**中断信号**，切换为**内核态**，操作系统负责处理中断。

#### 2.中断的概念和作用

1. 当中断发生时，CPU 立即进入**核心态**。
2. 当中断发生后，当前运行的进程暂停执行，并由操作系统内核对中断进行处理。
3. 对于不用的中断信号，会进行不同的处理。

**中断**可以使 CPU 从**用户态切换为核心态，使操作系统获得计算机的控制权。**有了终端，才能够实现多道程序并发执行。只有在**核心态**操作系统才能够执行特权指令。从**用户态切换到核心态是通过中断实现的，并且是唯一的途径**。

#### 3.中断的分类

**中断（广义上的）：**

1. **内中断（也称异常，例外，陷入）**

   - 信号来源：CPU**内部**，与当前执行的指令有关。

   - 自愿中断——指令中断（系统中断）
   - 强迫中断——硬件故障或软件中断

2. **外中断（狭义上的中断）**

   - 信号来源：CPU**外部**与但钱执行的指令无关。

   - 外设请求
   - 人工干预

**另一种分类方式：**

![分类](https://s1.ax1x.com/2022/04/10/LAsMqI.png)

#### 4.外部中断的处理过程

1. 每条指令执行结束后，CPU 检查是否有外部中断信号
2. 若有外部中断信号，则需要保护中断进程的 CPU 环境
3. 根据中断信号类型转入相应的中断处理程序
4. 恢复原进程的 CPU 环境并推出中断，返回原进程继续往下执行

---

#### 5.知识图谱

![图谱](https://s1.ax1x.com/2022/04/10/LA6gbR.png)
