---
title: 十、进程通信
tags: ["操作系统"]
categories: OS学习笔记
draft: false
date: 2022-04-18T21:06:46+08:00
---

#### 1.什么是进程通信

进程通信是进程之间的信息交换。

进程是分配系统资源的单位（包括内存地址空间），因此**各进程拥有的内存地址空间相互独立**。

<!--more-->

为了保证安全，**一个进程不允许直接访问另一个进程的地址空间。**但是进程之间的信息交换又是必须实现的，为了保证进程间的安全通信，操作系统提供了一些方法。

> 进程通信包括：**共享存储，消息传递和管道通信**。

#### 2.共享存储

操作系统为进程通信开辟了了共享的地址空间，两个进程对共享空间的**访问**必须是**互斥**的（互斥访问通过操作系统提供的工具实现，如 P，V 操作）。

> - **基于数据结构的共享**
>
>   比如空间里只能放一个长度为 10 的数组，这种共享方式速度慢、限制多，是一种**低级通信**方式。
>
> - **基于存储区的共享**
>
>   在内存中画出一块共享存储区，数据的形式、存放位都由进程控制，而不是操作系统。相比之下，这种共享方式速度更快，是一种**高级通信**方式。

#### 3.管道通信

**管导通信基础**

[![Lw8KTP.png](https://s1.ax1x.com/2022/04/18/Lw8KTP.png)](https://imgtu.com/i/Lw8KTP)

**管道通信的原理**

[![Lw8Jyj.png](https://s1.ax1x.com/2022/04/18/Lw8Jyj.png)](https://imgtu.com/i/Lw8Jyj)

#### 4.消息传递

进程间的数据交换以**格式化的消息**为单位，进程通过操作系统的“发送消息/接收消息”两个**原语**进行数据交换。

> - **直接通信方式**
>
>   格式化的消息包括**消息头**和**消息体**，消息头包括：发送进程 ID，接收进程 ID，消息类型，消息长度等格式化的信息（类似于计算机网络中的“报文”）。进程 1 创建一个消息发送给进程 2 的消息缓冲队列，进程 2 再从消息缓冲队列中读取消息。
>
>   [![Lw8y6J.png](https://s1.ax1x.com/2022/04/18/Lw8y6J.png)](https://imgtu.com/i/Lw8y6J)
>
> - **间接通信方式**
>
>   与直接通信原理基本相同，只不过消息要先发送到中间实体（信箱）中，因此也称“心想通信方式”。进程 1 通过**发送原语**将消息发送到信箱中，进程 2 通过**接收原语**接收属于自己的消息。
>
>   [![Lw8o1e.png](https://s1.ax1x.com/2022/04/18/Lw8o1e.png)](https://imgtu.com/i/Lw8o1e)

##### 5.知识回顾

[![Lw8bnA.png](https://s1.ax1x.com/2022/04/18/Lw8bnA.png)](https://imgtu.com/i/Lw8bnA)
